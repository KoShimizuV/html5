<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<title>multipage template</title> 
<link rel="stylesheet" href="//code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="//code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
</head> 

<body>
<div data-role="header"><h1 id="act_id1">Question</h1></div>
<p><div id="t1"></div></p>
<p><div id="q1"></div></p>

<p><a href="#" onclick="back()">back</a> __ <a href="#" onclick="next()">Next</a></p>
<div data-role="collapsible">
  <h3 id="check_ans">check answer</h3> 
  <p><div id="a"></div></p>
</div>

<div data-role="footer"><h4>Page Footer</h4></div>

<script type="text/javascript">
var t = new Array();
var q = new Array();
var a = new Array();
var active_id = 0;

window.onload = function(){
  init();
  domQA();
}

function init(){
  active_id = 0;
  get_data_from_api();
}

function get_data_from_api(){
 $.ajax({
   url: "/cus/index.php?p=qa&c=api&a=list_qa",
   data: { 
          "out_method": "json" , 
          "category": "英和" , 
         },
   success: function( data ) {
     var list = $.parseJSON(data);
     for(var i = 0; i < list.length; i++){
       t[i] = list[i]["title"]; 
       q[i] = list[i]["qu"]; 
       a[i] = list[i]["ans"]; 
     } 
     domQA();
   }
 }); 

}

function domQA(){
  document.getElementById("act_id1").innerText = "No" + (active_id +1) + "/" + q.length;
  document.getElementById("t1").innerText = t[active_id];
  document.getElementById("q1").innerText = q[active_id];
  document.getElementById("a").innerText = a[active_id];
}

function next(){
  ++active_id;
  if (q.length <= active_id ){
    alert("return Question 1");
    active_id = 0; 
  }
  $('#check_ans').trigger('collapse');
  domQA();
}

function back(){
  --active_id;
  $('#check_ans').trigger('collapse');
  domQA();
}


</script>
</body>
</html>
